<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<script type="text/javascript" src="http://qzonestyle.gtimg.cn/qzone/openapi/qc_loader.js" data-appid="1106531912" charset="utf-8"></script>
	</head>
	<style type="text/css">
		.shareToCircle{
			padding: 6px;
			border-radius: 3px;
			background: lightblue;
			border: none;
			color: white;
			border: 1px solid lightseagreen;
		}
	</style>
	<body>
		<span id="qqLoginBtn"></span>
		<input class="shareToCircle" type="button" name="" id="" value="shareToCircle" />
	</body>
</html>
<script type="text/javascript">
	QC.Login({
            //btnId：插入按钮的节点id，必选
            btnId:"qqLoginBtn",
            //用户需要确认的scope授权项，可选，默认all
            scope:"all",
            //按钮尺寸，可用值[A_XL| A_L| A_M| A_S|  B_M| B_S| C_S]，可选，默认B_S
            size: "B_S"
        }, function(reqData, opts){//登录成功
//      	//根据返回数据，更换按钮显示状态方法
//		    var dom = document.getElementById(opts['btnId']),
//		    _logoutTemplate=[
//		        //头像
//		        '<span><img src="{figureurl}" class="{size_key}"/></span>',
//		        //昵称
//		        '<span>{nickname}</span>',
//		        //退出
//		        '<span><a href="javascript:QC.Login.signOut();">退出</a></span>'    
//		    ].join("");
//		    dom && (dom.innerHTML = QC.String.format(_logoutTemplate, {
//		        nickname : QC.String.escHTML(reqData.nickname), //做xss过滤
//		        figureurl : reqData.figureurl
//		    }));
        	
        	
        	
            //根据返回数据，更换按钮显示状态方法
            console.log(reqData);//查看返回数据
            QC.Login.getMe(function(openId, accessToken){//获取用户的openId
                console.log('QQOPENID:'+openId);
                thirdparty(null,null,reqData.figureurl_qq_2,reqData.nickname,1,openId);
                QC.Login.signOut();//退出QQ登录调用事件
            });
        }
    );
</script>

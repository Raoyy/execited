<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<style type="text/css">
		*{
			margin: 0;
			padding: 0;
		}
		#warp{
			width: 800px;
			height: 300px;
			margin: 0 auto;
			border: 1px solid black;
		}
		ul{
			list-style: none;
			width: 100%;
			height: 100%;
		}
		li{
			width: 98px;
			height: 298px;
			border: 1px solid lightblue;
			float: left;
			cursor: pointer;
/*			transition: all .5s;*/
		}
		.now{
			width: 298px;
		}
	</style>
	<body>
		<div id="warp">
			<ul>
				<li class="now"></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
			</ul>
		</div>
	</body>
	<script type="text/javascript">
		var ali = document.getElementsByTagName('li');
		var j = 0;
		var x = 0;
		var isfinish = true;
		var timer = null;
		for(var i = 0; i < ali.length; i++){
			ali[i].index = i;
			ali[i].style.background = 'rgba('+i*50+',150,150,1)';
			ali[i].onclick = function(){
				_this = this;
				if(isfinish == true && _this.offsetWidth != 300){
					this2 = _this;
					timer = setInterval(function(){
						isfinish = false;
						x+=2;
						ali[j].style.width = 298 - x + 'px';
						this2.style.width = 98 + x +'px';
						if(x == 200){
							clearInterval(timer);
							j = this2.index;
							x = 0;
							isfinish = true;
						}
					},3);
				}
			}
		}
	</script>
</html>

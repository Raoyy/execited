<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>日历</title>
		<script type="text/javascript">
			window.onload = function(){
				var oyear = document.getElementById('year');
				var omouth = document.getElementById('mouth');
				var oday = document.getElementById('day');
				var btn = document.getElementById('btn');
				var result = document.getElementById('result');
				btn.onclick = function(){
					var year = oyear.value;
					var mouth = omouth.value;
					var day = oday.value;
					var num = 0;
					if(year <= 0 || parseInt(year) != year || parseInt(mouth) != mouth || parseInt(day) != day){
						alert('请重新输入！');
					}else{
						if(mouth < 1 || mouth > 12 || day <= 0){
							alert('请重新输入！');
						}else{
							switch (mouth*1){
								case 1:
								case 3:
								case 5:
								case 7:
								case 8:
								case 10:
								case 12:
								if(day > 31){
									alert('请重新输入！');
								}else{
									check();
								}
								break;
								case 2:
								if((year%4 == 0 && year%100 != 0) || year%400 == 0){
									if(day > 29){
										alert('请重新输入！');
									}else{
										check();
									}
								}else{
									if(day > 28){
										alert('请重新输入！');
									}else{
										check();
									}
								}
								break;
								case 4:
								case 6:
								case 7:
								case 11:
								if(day > 30){
									alert('请重新输入！');
								}else{
									check();
								}
								break;
							}
						}
					}
					function check(){
						for(var i = 0; i < mouth; i++){
							if((year%4 == 0 && year%100 != 0) || year%400 == 0){
								var arr = [0,31,29,31,30,31,30,31,31,30,31,30,31];
							}else{
								var arr = [0,31,28,31,30,31,30,31,31,30,31,30,31];
							}
							num = num + arr[i];
						}
						num = num + day*1;
						result.innerHTML = num;
					}
				}
			}
		</script>
	</head>
	<body>
		年：<input type="text" id="year" />
		月：<input type="text" id="mouth" />
		日：<input type="text" id="day" />
		<input type="button" id="btn" value="点击查询" />
		<br />
		今天是今年的第<div style="display: inline-block; width: 40px; text-align: center;" id="result"></div>天
	</body>
</html>
